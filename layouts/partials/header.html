<!DOCTYPE html>

<html lang="en">

<head>
    <meta name="viewport" content="width=device-width" />
    <meta property="og:image" content="https://tonybox.net/img/fb.jpg" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{{ .Title }}" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta property="og:updated_time" content="{{.Date.Format "2006-01-02"}}" />
    {{ if isset .Params "description" }}
    <meta property="og:description" content="{{ .Params.description }}" />
    <meta name="description" content="{{ .Params.description }}" />
    {{ else if .IsHome }}
    <meta name="description" content="{{ .Site.Params.Description }}" />
    {{ end }}


    {{ $style := resources.Get "css/style.css" | resources.Minify | resources.Fingerprint }}
    <link rel="stylesheet" href="{{ $style.Permalink }}">

    {{ $style := resources.Get "css/syntax.css" | resources.Minify | resources.Fingerprint }}
    <link rel="stylesheet" href="{{ $style.Permalink }}">


    <script type="text/javascript">

        document.addEventListener('DOMContentLoaded', function () {
            document.body.className = localStorage.getItem("darkmode");
        });

        //{{ if in .Params.plugins "stlviewer" }}
        window.onload = function () {
            STLViewerEnable("stlviewer");
        }
        //{{ end }}

        function toggle_darkmode() {
            var newColor = localStorage.getItem("darkmode") == "dark" ? "light" : "dark";
            localStorage.setItem("darkmode", newColor);
            document.body.className = newColor;
        }
        function toggle_menu() {
            var menu = document.getElementById("menu");
            menu.className = (menu.className == "hidden") ? "shown" : "hidden"

        }
    </script>

    {{ if in .Params.plugins "threejs" }}
    <script src="/plugins/stl/webgl.min.js"></script>
    <script src="/plugins/stl/three.min.js"></script>
    <script src="/plugins/stl/stlloader.min.js"></script>
    <script src="/plugins/stl/orbitcontrols.min.js"></script>
    {{ end }}

    {{ if in .Params.plugins "stlviewer" }}
    <script src="/plugins/stl/stlviewer.js"></script>
    {{ end }}

    <title>{{ .Title }}</title>
</head>

<body>
    {{ partial "menu.html" . }}